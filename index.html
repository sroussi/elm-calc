<!doctype html>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="index.css" />

<body>
    <div id="app"></div>
    <script src="bundle.js"></script>
    <script>
        const root = document.getElementById("app");

        storedHistory = JSON.parse(localStorage.getItem('history'))
        const app = Elm.Main.init({
            node: root,
            flags: storedHistory
        });
        app.ports.saveHistory.subscribe(value => localStorage.setItem('history', JSON.stringify(value)));
    </script>
</body>
